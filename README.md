# terraform-wireguard

## Prerequisites (MacOS)
1. Install Wireguard from the [App Store](https://apps.apple.com/ug/app/wireguard/id1451685025?mt=12).
2. Install `wg` cli: `brew install wireguard-tools`

## How to use
Whether targeting AWS or DigitalOcean, the general steps are as follows:

1. Create a `settings.auto.tfvars` file with `server_private_key`, `client_public_key`, `ssh_public_key`, and `region`.
    - `server_private_key` can be generated with `wg genkey`. Keep this secret!
    - `client_public_key` can be derived from the private key generated by your Wiregaurd client using `wg pubkey`
2. Run `terraform apply`, and copy/paste the `peer_config` block into your client's tunnel configuration.
3. That's it!

### AWS
AWS-specific documentation [here](terraform/aws/README.md).

### DigitalOcean
DigitalOcean-specific documentation [here](terraform/do/README.md).